<template>
  <!-- Styling is used to dynamically adjust the height of the iframe (see: https://www.h3xed.com/web-development/how-to-make-a-responsive-100-width-youtube-iframe-embed) -->
  <div id="chartframecontainer_5c018451-804c-4653-8a4f-c6638f19b3c3" style="position:relative;width:99%;height:0;padding-bottom:51%;"><iframe style="position:absolute;top:0;left:0;width:100%;height:100%" id="chartframe_5c018451-804c-4653-8a4f-c6638f19b3c3" width="100%" frameborder="0"></iframe></div>
</template>

<script>
export default {
  name: 'options-legend',
  data () {return {}},
  beforeMount: function () {
    this.$nextTick(function () {
      // Split embeded widget string into several strings to avoid JS "SyntaxError: unterminated string literal"
      let embedwidget = '<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js" integrity="sha2' + '56-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" crossorigin="anonymous"><\/script><script data-jupy' + 'ter-widgets-cdn="https://cdn.jsdelivr.net/npm/" src="https://unpkg.com/@jupyter-widgets/html-manager' + '@*/dist/embed-amd.js" crossorigin="anonymous"><\/script><script type="application/vnd.jupyter.widget' + '-state+json">{"version_major": 2, "version_minor": 0, "state": {"212253ff34bf4555af5025df32cb3014": ' + '{"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.' + '0", "state": {"align_self": "stretch", "height": "auto"}}, "8f8544fb5fe74f9d9eafa5ac4ea8ff22": {"mod' + 'el_name": "ChartModel", "model_module": "ipychart", "model_module_version": "^0.3.0", "state": {"_da' + 'ta_sync": {"labels": [1500, 1600, 1700, 1750, 1800, 1850, 1900, 1950, 1999, 2050], "datasets": [{"data": ' + '[86, 114, 106, 106, 107, 111, 133, 221, 121, 142], "label": "Africa", "fill": false, "datalabels": {' + '"display": false}, "backgroundColor": "rgba(54, 163, 235, 0.2)", "borderColor": "rgba(54, 163, 235, ' + '1)", "borderWidth": 1, "pointBackgroundColor": "rgba(54, 163, 235, 0.2)", "pointBorderColor": "rgba(' + '54, 163, 235, 1)"}, {"data": [99, 130, 64, 100, 73, 22, 88, 198, 144, 64], "label": "Asia", "fill": ' + 'false, "datalabels": {"display": false}, "backgroundColor": "rgba(254, 119, 124, 0.2)", "borderColor' + '": "rgba(254, 119, 124, 1)", "borderWidth": 1, "pointBackgroundColor": "rgba(254, 119, 124, 0.2)", "' + 'pointBorderColor": "rgba(254, 119, 124, 1)"}, {"data": [168, 170, 178, 190, 203, 200, 164, 100, 72, ' + '85], "label": "Europe", "fill": false, "datalabels": {"display": false}, "backgroundColor": "rgba(25' + '5, 206, 87, 0.2)", "borderColor": "rgba(255, 206, 87, 1)", "borderWidth": 1, "pointBackgroundColor":' + ' "rgba(255, 206, 87, 0.2)", "pointBorderColor": "rgba(255, 206, 87, 1)"}, {"data": [40, 20, 10, 16, ' + '24, 38, 74, 167, 80, 150], "label": "Latin America", "fill": false, "datalabels": {"display": false}' + ', "backgroundColor": "rgba(11, 255, 238, 0.2)", "borderColor": "rgba(11, 255, 238, 1)", "borderWidth' + '": 1, "pointBackgroundColor": "rgba(11, 255, 238, 0.2)", "pointBorderColor": "rgba(11, 255, 238, 1)"' + '}, {"data": [56, 95, 44, 112, 215, 35, 95, 74, 64, 78], "label": "North America", "fill": false, "da' + 'talabels": {"display": false}, "backgroundColor": "rgba(153, 102, 255, 0.2)", "borderColor": "rgba(1' + '53, 102, 255, 1)", "borderWidth": 1, "pointBackgroundColor": "rgba(153, 102, 255, 0.2)", "pointBorde' + 'rColor": "rgba(153, 102, 255, 1)"}]}, "_dom_classes": [], "_zoom_sync": false, "_options_sync": {"legend": {"align": "end", "p' + 'osition": "right", "labels": {"boxWidth": 80, "fontSize": 14}}, "scale": {"ticks": {"beginAtZero": t' + 'rue}}}, "_kind_sync": "radar", "layout": "IPY_MODEL_212253ff34bf4555af5025df32cb3014"}}}}<\/script><div i' + 'd="widgetcontainer_eb927e24-81bb-4705-8938-7a4fbf65b9d2"><script type="application/vnd.jupyter.widge' + 't-view+json">{"version_major": 2, "version_minor": 0, "model_id": "8f8544fb5fe74f9d9eafa5ac4ea8ff22"' + '}<\/script></div>';
      // Set srcdoc of the iframe with embed widget HTML string. This trick allow to avoid disapearance of the iframe on page refresh
      var iframe = document.getElementById('chartframe_5c018451-804c-4653-8a4f-c6638f19b3c3');
      iframe.srcdoc = embedwidget;
    });
  }
}
</script>
