<template>
  <!-- Styling is used to dynamically adjust the height of the iframe (see: https://www.h3xed.com/web-development/how-to-make-a-responsive-100-width-youtube-iframe-embed) -->
  <div id="chartframecontainer_f9d8dc8d-1d49-497a-8397-5a8166d9bff1" style="position:relative;width:99%;height:0;padding-bottom:51%;"><iframe style="position:absolute;top:0;left:0;width:100%;height:100%" id="chartframe_f9d8dc8d-1d49-497a-8397-5a8166d9bff1" width="100%" frameborder="0"></iframe></div>
</template>

<script>
export default {
  name: 'chart-horizontalbar',
  data () {return {}},
  beforeCreate: function () {
    this.$nextTick(function () {
      // Split embeded widget string into several strings to avoid JS "SyntaxError: unterminated string literal"
      let embedwidget = '<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js" integrity="sha2' + '56-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" crossorigin="anonymous"><\/script><script data-jupy' + 'ter-widgets-cdn="https://cdn.jsdelivr.net/npm/" src="https://unpkg.com/@jupyter-widgets/html-manager' + '@*/dist/embed-amd.js" crossorigin="anonymous"><\/script><script type="application/vnd.jupyter.widget' + '-state+json">{"version_major": 2, "version_minor": 0, "state": {"c43a153fb66f4c029c0ead8db7c71617": ' + '{"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.' + '0", "state": {"align_self": "stretch", "height": "auto"}}, "edff55b4204244aaa25f7083e6bd7684": {"mod' + 'el_name": "ChartModel", "model_module": "ipychart", "model_module_version": "^0.1.1", "state": {"_da' + 'ta": {"datasets": [{"data": [30.8148, 28.0893, 29.4454], "backgroundColor": ["rgba(54, 163, 235, 0.2' + ')", "rgba(254, 119, 124, 0.2)", "rgba(255, 206, 87, 0.2)", "rgba(54, 163, 235, 0.2)", "rgba(254, 119' + ', 124, 0.2)", "rgba(255, 206, 87, 0.2)", "rgba(54, 163, 235, 0.2)", "rgba(254, 119, 124, 0.2)", "rgb' + 'a(255, 206, 87, 0.2)", "rgba(54, 163, 235, 0.2)", "rgba(254, 119, 124, 0.2)", "rgba(255, 206, 87, 0.' + '2)"], "borderColor": ["rgba(54, 163, 235, 1)", "rgba(254, 119, 124, 1)", "rgba(255, 206, 87, 1)", "r' + 'gba(54, 163, 235, 1)", "rgba(254, 119, 124, 1)", "rgba(255, 206, 87, 1)", "rgba(54, 163, 235, 1)", "' + 'rgba(254, 119, 124, 1)", "rgba(255, 206, 87, 1)", "rgba(54, 163, 235, 1)", "rgba(254, 119, 124, 1)",' + ' "rgba(255, 206, 87, 1)"], "borderWidth": 1}], "labels": ["C", "Q", "S"]}, "_dom_classes": [], "_opt' + 'ions": {"scales": {"xAxes": [{"scaleLabel": {"display": true, "labelString": "Embarked"}}], "yAxes":' + ' [{"scaleLabel": {"display": true, "labelString": "Age"}}]}, "legend": false}, "_type": "bar", "layo' + 'ut": "IPY_MODEL_c43a153fb66f4c029c0ead8db7c71617"}}, "231a2e39984d4079b36565db2ea637c9": {"model_nam' + 'e": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state"' + ': {"align_self": "stretch", "height": "auto"}}, "dc48ac21ed0a4a08bac48e6a5d37d015": {"model_name": "' + 'ChartModel", "model_module": "ipychart", "model_module_version": "^0.1.1", "state": {"_data": {"data' + 'sets": [{"data": [33.6667, 30.325, 30.204], "label": 0, "backgroundColor": "rgba(54, 163, 235, 0.2)"' + ', "borderColor": "rgba(54, 163, 235, 1)", "borderWidth": 1}, {"data": [28.9737, 22.5, 28.1132], "lab' + 'el": 1, "backgroundColor": "rgba(254, 119, 124, 0.2)", "borderColor": "rgba(254, 119, 124, 1)", "bor' + 'derWidth": 1}], "labels": ["C", "Q", "S"]}, "_dom_classes": [], "_options": {"scales": {"xAxes": [{"' + 'scaleLabel": {"display": true, "labelString": "Embarked"}}], "yAxes": [{"scaleLabel": {"display": tr' + 'ue, "labelString": "Age"}}]}, "legend": {"labels": {"generateLabels": "function(chart) {\n          ' + '              let labels = Chart.defaults.global.legend.labels.generateLabels(chart);\n             ' + '           labels.map(label => {label['text'] = \"Survived\" + \" = \" + label['text']; return label' + '});\n                        return labels;};"}}}, "_type": "bar", "layout": "IPY_MODEL_231a2e39984d' + '4079b36565db2ea637c9"}}}}<\/script><div id="widgetcontainer_f9d8dc8d-1d49-497a-8397-5a8166d9bff1"><s' + 'cript type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "mode' + 'l_id": "dc48ac21ed0a4a08bac48e6a5d37d015"}<\/script></div>';
      // Set srcdoc of the iframe with embed widget HTML string. This trick allow to avoid disapearance of the iframe on page refresh
      var iframe = document.getElementById('chartframe_f9d8dc8d-1d49-497a-8397-5a8166d9bff1');
      iframe.srcdoc = embedwidget;
    });
  }
}
</script>

